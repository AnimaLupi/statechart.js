this.statechart=function(t){function e(n){if(r[n])return r[n].exports;var s=r[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports={State:r(1),RoutableState:r(3)}},function(t){!function(){"use strict";function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){var n,s,i=[];for(n=0,s=t.length;s>n;n++)e(t[n])?i=i.concat(r(t[n])):i.push(t[n]);return i}function n(t){var e,r,n,s={},i=[];for(r=0,n=t.length;n>r;r++)t[r]&&(e=t[r].path(),s[e]||(i.push(t[r]),s[e]=!0));return i}function s(){return this.__cache__._path=this.__cache__._path||(this.superstate?s.call(this.superstate).concat(this):[this])}function i(){var t,e,r=[];if(!this.__isCurrent__)return[];if(0===this.substates.length)return[this];for(t=0,e=this.substates.length;e>t;t++)this.substates[t].__isCurrent__&&(r=r.concat(i.call(this.substates[t])));return r}function o(t){var e,r,n,i=s.call(this),o=s.call(t);for(e=0,r=i.length<o.length?i.length:o.length;r>e&&i[e]===o[e];e++)n=i[e];if(!n)throw new Error("State#findPivot: states "+this+" and "+t+" do not belong to the same statechart");return n}function a(t,e,r){this.__transitions__.push({pivot:t,states:e,opts:r})}function h(){var t,e,r=this.__transitions__;if(r&&0!==r.length){for(t=0,e=r.length;e>t;t++)p.call(r[t].pivot,r[t].states,r[t].opts);this.__transitions__=[]}}function u(t){var e,r;for(e=0,r=this.enters.length;r>e;e++)this.enters[e].call(this,t)}function _(t){var e,r;for(e=0,r=this.exits.length;r>e;e++)this.exits[e].call(this,t)}function c(t,e){var i,o,a,h,_,l,f=s.call(this).length,g=[];for(_=0,l=this.substates.length;l>_;_++)if(this.substates[_].__isCurrent__){a=this.substates[_];break}for(_=0,l=t.length;l>_;_++)g.push(s.call(t[_])[f]);if(n(g).length>1)throw new Error("State#enterClustered: attempted to enter multiple substates of "+this+": "+g.join(", "));if(!(h=g[0])&&this.substates.length>0){if(this.__condition__&&(o=this.__condition__.call(this,e.context))){for(o=r([o]),t=[],_=0,l=o.length;l>_;_++){if(!(i=this.resolve(o[_])))throw new Error("State#enterClustered: could not resolve path '"+o[_]+"' returned by condition function from "+this);t.push(i)}return c.call(this,t,e)}this.history&&(h=this.__previous__),h||(h=this.substates[0])}return a&&a!==h&&d.call(a,e),(!this.__isCurrent__||e.force)&&(w.call(this,"State: [ENTER]  : "+this.path()+(this.__isCurrent__?" (forced)":"")),this.__isCurrent__=!0,u.call(this,e.context)),h&&p.call(h,t,e),this}function l(t,e){var r,n,s,i,a,h;for((!this.__isCurrent__||e.force)&&(w.call(this,"State: [ENTER]  : "+this.path()+(this.__isCurrent__?" (forced)":"")),this.__isCurrent__=!0,u.call(this,e.context)),s=0,a=this.substates.length;a>s;s++){for(r=this.substates[s],n=[],i=0,h=t.length;h>i;i++)o.call(r,t[i])===r&&n.push(t[i]);p.call(r,n,e)}return this}function p(t,e){return this.concurrent?l.call(this,t,e):c.call(this,t,e)}function f(t){var e,r,n;for(r=0,n=this.substates.length;n>r;r++)if(this.substates[r].__isCurrent__){e=this.substates[r];break}return this.history&&(this.__previous__=e),e&&d.call(e,t),_.call(this,t.context),this.__isCurrent__=!1,w.call(this,"State: [EXIT]   : "+this.path()),this}function g(t){var e,r,n=this.root();for(e=0,r=this.substates.length;r>e;e++)d.call(this.substates[e],t);return _.call(this,t.context),this.__isCurrent__=!1,this!==n&&w.call(this,"State: [EXIT]   : "+this.path()),this}function d(t){return this.concurrent?g.call(this,t):f.call(this,t)}function v(t,e){var r,n;for(r=0,n=this.substates.length;n>r;r++)if(this.substates[r].__isCurrent__&&v.call(this.substates[r],t,e)===!1)return!1;return this.canExit(t,e.context)}function y(){var t,e,r,n=!1;for(t=0,e=this.substates.length;e>t;t++)if(this.substates[t].__isCurrent__){r=this.substates[t];break}return r&&(n=!!r.send.apply(r,C.call(arguments))),n}function m(){var t,e,r,n=C.call(arguments),s=!0;for(e=0,r=this.substates.length;r>e;e++)t=this.substates[e],s=t.send.apply(t,n)&&s;return s}function w(t){var e=b.logger||console;this.root().trace&&e&&e.info(t)}function b(t,e,r){if("function"==typeof e&&(r=e,e={}),e=e||{},e.concurrent&&e.H)throw new Error("State: history states are not allowed on concurrent states");this.name=t,this.substateMap={},this.substates=[],this.superstate=null,this.enters=[],this.exits=[],this.events={},this.concurrent=!!e.concurrent,this.history=!!e.H,this.deep="*"===e.H,this.__isCurrent__=!1,this.__cache__={},this.__transitions__=[],this.trace=!1,r&&r.call(this)}var C=Array.prototype.slice;b.define=function(){var t,e={},r=null;return 2===arguments.length?(e=arguments[0],r=arguments[1]):1===arguments.length&&("function"==typeof arguments[0]?r=arguments[0]:e=arguments[0]),t=new this("__root__",e,r)},b.prototype.state=function(t,e,r){var n=t instanceof this.constructor?t:new this.constructor(t,e,r);return this.addSubstate(n),n},b.prototype.enter=function(t){return this.enters.push(t),this},b.prototype.exit=function(t){return this.exits.push(t),this},b.prototype.canExit=function(){return!0},b.prototype.event=function(t,e){return this.events[t]=e,this},b.prototype.C=function(t){if(this.concurrent)throw new Error("State#C: a concurrent state may not have a condition state: "+this);this.__condition__=t},b.prototype.current=function(){var t,e,r=i.call(this),n=[];for(t=0,e=r.length;e>t;t++)n.push(r[t].path());return n},b.prototype.each=function(t){var e,r;for(t(this),e=0,r=this.substates.length;r>e;e++)this.substates[e].each(t);return this},b.prototype.addSubstate=function(t){var e=this.deep;return this.substateMap[t.name]=t,this.substates.push(t),t.each(function(t){t.__cache__={},e&&(t.history=t.deep=!0)}),t.superstate=this,this},b.prototype.root=function(){return this.__cache__.root=this.__cache__.root||(this.superstate?this.superstate.root():this)},b.prototype.path=function(){var t,e,r=s.call(this),n=[];for(t=1,e=r.length;e>t;t++)n.push(r[t].name);return"/"+n.join("/")},b.prototype["goto"]=function(){var t,e,s,i,u=this.root(),_=r(C.call(arguments)),c="object"==typeof _[_.length-1]?_.pop():{},l=[],p=[];for(s=0,i=_.length;i>s;s++){if(!(t=this.resolve(_[s])))throw new Error("State#goto: could not resolve path "+_[s]+" from "+this);l.push(t)}for(s=0,i=l.length;i>s;s++)p.push(o.call(this,l[s]));if(n(p).length>1)throw new Error("State#goto: multiple pivot states found between state "+this+" and paths "+_.join(", "));if(e=p[0]||this,v.call(e,l,c)===!1)return w.call(this,"State: [GOTO]   : "+this+" can not exit]"),!1;if(w.call(this,"State: [GOTO]   : "+this+" -> ["+l.join(", ")+"]"),!this.__isCurrent__&&this.superstate)throw new Error("State#goto: state "+this+" is not current");if(e.concurrent&&e!==this)throw new Error("State#goto: one or more of the given paths are not reachable from state "+this+": "+_.join(", "));return a.call(u,e,l,c),this.__isSending__||h.call(u),!0},b.prototype.send=function(){var t,e=C.call(arguments),r=this.events;if(!this.__isCurrent__)throw new Error("State#send: attempted to send an event to a state that is not current: "+this);return this===this.root()&&w.call(this,"State: [EVENT]  : "+e[0]),t=this.concurrent?m.apply(this,arguments):y.apply(this,arguments),t||"function"!=typeof r[e[0]]||(this.__isSending__=!0,t=!!r[e[0]].apply(this,e.slice(1)),this.__isSending__=!1),this.superstate||h.call(this),t},b.prototype.reset=function(){d.call(this,{})},b.prototype.isCurrent=function(t){var e=this.resolve(t);return!(!e||!e.__isCurrent__)},b.prototype.resolve=function(t){var e,r;if(!t)return null;switch(t="string"==typeof t?t.split("/"):t,e=t.shift()){case"":r=this.root();break;case".":r=this;break;case"..":r=this.superstate;break;default:r=this.substateMap[e]}return r?0===t.length?r:r.resolve(t):null},b.prototype.toString=function(){return"State("+this.path()+")"},t.exports=b}()},function(t,e){!function(){"use strict";var t=Array.prototype.slice;e.assign=function(e){var r,n,s,i=t.call(arguments).slice(1);for(r=0,n=i.length;n>r;r++)for(s in i[r])void 0===i[r][s]?delete e[s]:e[s]=i[r][s];return e},e.pick=function(t,e){return e.reduce(function(e,r){return e[r]=t[r],e},{})}}()},function(t,e,r){!function(){"use strict";function e(){n.apply(this,arguments)}var n=r(1),s=r(4),i=r(2);i.assign(e,n),e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.route=function(t,e,r){var s;if(2!==arguments.length||"string"==typeof e||e instanceof n||(r=e,e=null),s=e||this,s="string"==typeof s?this.resolve(s):s,!s)throw new Error("RoutableState#route: invalid state: "+String(e));return s._route(t,r||{})},e.prototype._route=function(t,e){var r=this;if(this.__route__)throw new Error("RoutableState#route: a route has already been defined on "+this);return this.__route__=s.define(t,function(t){r.root()["goto"](r.path(),{force:!0,context:t})},e),this.enter(function(t){s.route(this.__route__),s.params(i.pick(t||{},this.__route__.names))}),this.exit(function(t){var e,r,n={},i=this.__route__.names;for(t=t||{},e=0,r=i.length;r>e;e++)i[e]in t||(n[i[e]]=void 0);s.params(n)}),this},e.prototype.start=function(t){return s.start(t),this},e.prototype.stop=function(){return s.stop(),this},e.prototype.params=function(){return s.params.apply(s,arguments)},e.prototype.unknown=function(t){return s.unknown(t),this},t.exports=e}()},function(t,e,r){!function(){"use strict";function e(t){var e=t.replace(l,"\\$&").replace(p,"([^/]*)").replace(f,"(.*?)");return new RegExp("^"+e+"$")}function n(t){var e,r,n=t.match(g)||[];for(e=0,r=n.length;r>e;e++)n[e]=n[e].slice(1);return n}function s(t,e){var r,n,s=t.regex.exec(e).slice(1),i={};for(r=0,n=t.names.length;n>r;r++)i[t.names[r]]=s[r];return i}function i(t,e){return t.pattern.replace(g,function(t,r){return e[r]})}function o(t,e){var r,n={};for(r in e)-1===t.names.indexOf(r)&&(n[r]=e[r]);return n}function a(t,e){return Object.keys(e).length?t+"?"+u.stringify(e):t}function h(){this.__routes__=[],this.__route__=null,this.__params__={}}var u=r(5),_=r(6),c=r(2),l=/[\-{}\[\]+?.,\\\^$|#\s]/g,p=/:(\w+)/g,f=/\*(\w+)/g,g=/[:*](\w+)/g;h.prototype.urlFor=function(t,e){var r=i(t,e),n=o(t,e);return a(r,n)},h.prototype.define=function(t,r,s){var i={pattern:t,regex:e(t),names:n(t),callback:r};return this.__routes__.push(i),s&&s["default"]&&(this.define("",r),this.define("/",r)),i},h.prototype.unknown=function(t){return this.__unknown__=t,this},h.prototype.start=function(t){var e=this;return this.__started__||(this.__window__=t&&t.window||("undefined"!=typeof window?window:{}),this._onPopState=function(){var t=e.__window__.location;e._handleLocationChange(t.pathname,u.parse(t.search))},this._onClick=function(t){e._handleClick(t)},this.__window__.addEventListener("popstate",this._onPopState),this.__window__.addEventListener("click",this._onClick),this._onPopState(),this.__started__=!0),this},h.prototype.stop=function(){return this.__started__&&(this.__window__.removeEventListener("popstate",this._onPopState),this.__window__.removeEventListener("click",this._onClick),delete this._onPopState,this.__started__=!1),this},h.prototype.reset=function(){return this._timer&&clearTimeout(this._timer),this.stop(),h.call(this),this},h.prototype.route=function(t){return arguments.length?(this.__route__=t,this._flush(),t):this.__route__},h.prototype.params=function(t,e){return arguments.length?(e?this.__params__=t||{}:c.assign(this.__params__,t),this._flush(),this.__params__):this.__params__},h.prototype.recognize=function(t){var e,r,n;for(r=0,n=this.__routes__.length;n>r;r++)if(e=this.__routes__[r],e.regex.exec(t))return e;return null},h.prototype._handleLocationChange=function(t,e){var r,n;r=c.assign({},e),(n=this.recognize(t))&&(r=c.assign(r,s(n,t)),this.__route__===n&&_(this.__params__,r)||(this.__route__=n,this.__params__=r,n.callback(r))),this.__unknown__&&this.__unknown__(t)},h.prototype._handleClick=function(t){var e=t.target.host===this.__window__.location.host&&t.target.tagName&&"A"===t.target.tagName&&!t.metaKey&&this.recognize(t.target.pathname);e&&(t.preventDefault(),this._handleLocationChange(t.target.pathname,t.target.search))},h.prototype._flush=function(){var t=this;return this._timer||(this._timer=setTimeout(function(){t.flush()})),this},h.prototype.flush=function(){var t=this.__window__.location.pathname,e=i(this.__route__,this.__params__),r=o(this.__route__,this.__params__),n=a(e,r);return this.__window__.history[e===t?"replaceState":"pushState"]({},null,n),clearTimeout(this._timer),delete this._timer,this},t.exports=new h}()},function(t,e,r){var n;/*!
		query-string
		Parse and stringify URL query strings
		https://github.com/sindresorhus/query-string
		by Sindre Sorhus
		MIT License
	*/
!function(){"use strict";var s={};s.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#)/,""),t?t.trim().split("&").reduce(function(t,e){var r=e.replace(/\+/g," ").split("="),n=r[0],s=r[1];return n=decodeURIComponent(n),s=void 0===s?null:decodeURIComponent(s),t.hasOwnProperty(n)?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s,t},{}):{})},s.stringify=function(t){return t?Object.keys(t).map(function(e){var r=t[e];return Array.isArray(r)?r.map(function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(r)}).join("&"):""},n=function(){return s}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}()},function(t){function e(t,e,i){var o=Array.isArray(t),a=Array.isArray(e);if(o!==a)return!1;var h=typeof t,u=typeof e;return h!==u?!1:s(h)?i?i(t,e):t===e:o?r(t,e,i):n(t,e,i)}function r(t,e,r){var n=t.length;if(n!==e.length)return!1;if(r){for(var s=0;n>s;s++)if(!r(t[s],e[s]))return!1}else for(var s=0;n>s;s++)if(t[s]!==e[s])return!1;return!0}function n(t,e,r){var n=0,s=0;if(r)for(var i in t){if(t.hasOwnProperty(i)&&!r(t[i],e[i]))return!1;n++}else for(var i in t){if(t.hasOwnProperty(i)&&t[i]!==e[i])return!1;n++}for(var i in e)e.hasOwnProperty(i)&&s++;return n===s}function s(t){return"function"!==t&&"object"!==t}t.exports=e}]);